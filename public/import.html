<!DOCTYPE html>
<html>
<head>
    <title>Импорт данных</title>
</head>
<body>
    <h1>Импорт данных на сервер</h1>
    <input type="file" id="fileInput" accept=".json">
    <button onclick="importData()">Импортировать</button>
    
    <script>
    async function importData() {
        const file = document.getElementById('fileInput').files[0];
        if (!file) {
            alert('Выберите файл');
            return;
        }
        
        const text = await file.text();
        const data = JSON.parse(text);
        
        const response = await fetch('/api/import-data', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(data)
        });
        
        const result = await response.json();
        alert(result.message || result.error);
    }
    </script>
</body>
</html>